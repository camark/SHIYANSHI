@model Langben.DAL.VXIANGQING
@{ Layout = "~/Views/Shared/Index.cshtml"; }
@using Common
@using Models

<script type="text/javascript" language="javascript">
    $(function () {

        $('#flexigridData').datagrid({
            title: '报告器具领取详情', //列表的标题
            iconCls: 'icon-site',
            width: 'auto',
            height: 'auto',
            //nowrap: false,
            striped: true,
            collapsible: true,
            url: '/VXIANGQING/GetData/@ViewBag.Id', //获取数据的url
            sortName: 'CREATETIME',
            sortOrder: 'desc',
            idField: 'ID',
            columns: [[
					@*{ field: 'ID', title: '@Html.DisplayNameFor(model => model.ID)', width: 155 }*@
					{ field: 'DD', title: '@Html.DisplayNameFor(model => model.DD)', width: 155, hidden: true }
					, { field: 'ORDER_TASK_INFORMATIONID', title: '@Html.DisplayNameFor(model => model.ORDER_TASK_INFORMATIONID)', width: 155, hidden: true }
					, { field: 'APPLIANCE_NAME', title: '@Html.DisplayNameFor(model => model.APPLIANCE_NAME)', width: 155 }
					, { field: 'STATE', title: '@Html.DisplayNameFor(model => model.STATE)', width: 155 }
					, { field: 'RECEIVEINS', title: '@Html.DisplayNameFor(model => model.RECEIVEINS)', width: 155 }
					, { field: 'CREATEPERSON', title: '@Html.DisplayNameFor(model => model.CREATEPERSON)', width: 155 }
					, {
					    field: 'CREATETIME', title: '@Html.DisplayNameFor(model => model.CREATETIME)', width: 155, formatter: function (value, row, index) {
					        if (value) {
					            return dateConvert(value);
					        }
					    }
					}
            ]],
            pagination: true,
            rownumbers: true

        });

        var parent = window.dialogArguments; //获取父页面
        if (parent == "undefined" || parent == null) {
            //    不是在iframe中打开的
        } else {
            //隐藏所有的按钮和分隔符
            $(".l-btn.l-btn-plain").hide();
            $(".datagrid-btn-separator").hide();
            //添加选择按钮
            $('#flexigridData').datagrid("addToolbarItem", [{ "text": "选择", "iconCls": "icon-ok", handler: function () { flexiSelect(); } }]);
        }
    });


</script>

